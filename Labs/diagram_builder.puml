@startuml

left to right direction
skinparam backgroundColor #1B2631
skinparam class {
  BackgroundColor #2E4053
  BorderColor #1111111
  ArrowColor #BDC3C7
}

class Contact {
    + initialize(value)
    + to_s(): string
}

class EmailContact extends Contact {
    + valid?: boolean
}

class PhoneContact extends Contact {
    + valid?: boolean
}

class TelegramContact extends Contact {
    + valid?: boolean
}

class Git extends Contact {
    + valid?: boolean
    + to_json
}

class ContactInfo {
    + phone: PhoneContact
    + email: EmailContact
    + telegram: TelegramContact
    + initialize(**kwargs)
    + valid?: boolean
    + to_s: string
    + to_json: string
}

class Student {
    + id: string
    + name: string
    + middle_name: string
    + surname: string
    + git: Git
    + contact_info: ContactInfo
    - validator: StudentValidator
    + initialize(**kwargs)
    + name_initials: string
    + get_generic_info: string
    + short_form: string
    + to_s: string
    + to_json: string
    + {static} from_string(string): Student
}

class StudentDisplay {
    + initials
    + git
    + contact
    + initialize(student)
    + to_s: string
    + to_json
}

interface Validator {
    + entity
    + initialize(entity)
    + validate
}

class StudentValidator implements Validator {
    + validate
    - valid_name?
    + valid_git?
    + valid_contact_info?
}

interface FileManager {
    + load_data(source)
    + save_data(destination, data)
}

class StudentFileManager implements FileManager {
    - strategy: FileStrategy
    + initialize(strategy)
    + load_data(source)
    + save_data(destination, data)
    + configure_json()
    + configure_txt()
    + configure_yaml()
}

interface FileStrategy {
    + load_data(source)
    + save_data(destination, data)
}

class JsonFileStrategy implements FileStrategy {
    + load_data(source)
    + save_data(destination, data)
}

class TxtFileStrategy implements FileStrategy {
    + load_data(source)
    + save_data(destination, data)
}

class YamlFileStrategy implements FileStrategy {
    + load_data(source)
    + save_data(destination, data)
}

class DataTable {
    - data
    + initialize(data)
    + [](row, col)
    + row_count
    + column_count
    + to_s
}

class DataList {
    # data
    # selected
    + initialize(data = [])
    + set_data(new_data)
    + [](index)
    + size
    + each
    + select(number)
    + get_selected
    + reset_selected
    + append(element)
    + remove_by(index)
    + delete_at(index, element)
    + get_data: DataTable
    + get_names: String
}

class StudentList extends DataList {
    + file_manager: StudentFileManager
    + initialize(data = [])
    + select(number)
    + sort_by_surname
    + get_k_n_student_list(k, n, data_list = nil)
    + load_data(file_path)
    + save_data(file_path)
    + get_data: DataTable
    + get_names: String
}

ContactInfo *-- PhoneContact
ContactInfo *-- EmailContact
ContactInfo *-- TelegramContact
Student *-- ContactInfo
Student *-- Git
Student *-- StudentValidator
DataList *-- DataTable
StudentList *-- StudentFileManager
StudentFileManager *-- FileStrategy
StudentDisplay *-- Git
StudentDisplay *-- ContactInfo
@enduml